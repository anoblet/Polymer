<link rel="import" href="../../../bower_components/polymer/polymer-element.html">

<dom-module id="chart-select">
    <template>
        <paper-dropdown-menu label="Chart Type" selected-item-label="{{chart}}">
            <paper-listbox slot="dropdown-content" selected="{{chartIndex}}">
                <template is="dom-repeat" items="[[charts]]">
                    <paper-item>[[item]]</paper-item>
                </template>
            </paper-listbox>
        </paper-dropdown-menu>
    </template>
    <script>
        class ChartSelect extends Polymer.Element {
            static get is() {
                return 'chart-select';
            }

            static get properties() {
                return {
                    chart: {
                        type: String,
                        value: 'column',
                        observer: '_chartChanged',
                        notify: true
                    },
                    chartIndex: {
                        type: Number,
                        value: 4
                    },
                    charts: {
                        type: Array,
                        value: function() {
                            return [
                                'area',
                                'bar',
                                'bubble',
                                'candlestick',
                                'column',
                                'geo',
                                'pie',
                                'table'
                            ]
                        }
                    },
                    options: {
                        type: Object,
                        notify: true
                    }
                }
            }

            _chartChanged(chart) {
                this.options = {};
                if (chart == "geo") {
                    this.options = {
                        region: "US",
                        resolution: "provinces",
                        defaultColor: '#90caf9'
                    }
                }
                else {
                    this.options = {
                        chartArea: {
                            width: '80%',
                            height: '80%'
                        },
                        legend: {
                            alignment: 'center',
                            position: 'top',
                        },
                        // width: '100%'
                    };
                }
            }
        }
        window.customElements.define(ChartSelect.is, ChartSelect);
    </script>
</dom-module>
